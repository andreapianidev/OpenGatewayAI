import{j as e}from"./admin-features-DUBIKn_4.js";import{r}from"./react-vendor-ClEiMBPH.js";import{B as A,R as pe,k as de,F as oe,D as te,m as ae,T as z,n as Te,o as re,p as Z,q as M,a as me,Z as we,b as Se,A as se,h as $e,E as ke,G as Re,c as Ce,U as Ee,M as Oe,C as Me,X as Ue,r as Be,s as Ke,t as Ge,u as Ae,g as ce,v as ze,L as Pe,w as Le}from"./ui-vendor-DcpdbcD4.js";import{R as b,A as ue,C as k,X as R,Y as C,T as f,a as U,B as ie,b as D,P as xe,c as he,d as ge,e as Ve,L as Ie,f as qe,g as We,h as _e,i as Xe,j as Je,S as Qe,k as Ye}from"./chart-vendor-CKJAqPQZ.js";const rs=()=>{const[B,V]=r.useState("7d"),[P,v]=r.useState(!0),[K,N]=r.useState([]),[o,G]=r.useState(!1),[h,q]=r.useState({dateRange:"7d",metrics:["all"],regions:["all"],channels:["all"]}),[m,W]=r.useState(!1),[L,F]=r.useState([]),[w,_]=r.useState(!1),[g,X]=r.useState(!0),[S,H]=r.useState(3e4);useEffect(()=>{const a=setTimeout(()=>v(!1),1500);return()=>clearTimeout(a)},[]),useEffect(()=>{if(!g)return;const a=setInterval(()=>{if(v(!0),setTimeout(()=>v(!1),500),Math.random()>.7){const l={id:`notif-${Date.now()}`,title:"Aggiornamento AI",message:"Nuovi pattern rilevati nei dati di transazione",type:"info",timestamp:new Date().toLocaleTimeString(),read:!1};N(d=>[l,...d.slice(0,4)])}},S);return()=>clearInterval(a)},[g,S]),useEffect(()=>{F([{id:"metrics",title:"Metriche Principali",type:"metric",size:"large",position:{x:0,y:0},visible:!0},{id:"trends",title:"Trend Analytics",type:"chart",size:"medium",position:{x:1,y:0},visible:!0},{id:"predictions",title:"Previsioni AI",type:"chart",size:"medium",position:{x:0,y:1},visible:!0},{id:"performance",title:"Performance",type:"table",size:"small",position:{x:1,y:1},visible:!0}])},[]);const p=[{title:"AI Accuracy Score",value:"94.7%",change:"+2.3%",trend:"up",icon:e.jsx(A,{className:"w-6 h-6"}),color:"bg-purple-500"},{title:"Fraud Prevention",value:"€127,450",change:"+15.2%",trend:"up",icon:e.jsx(M,{className:"w-6 h-6"}),color:"bg-red-500"},{title:"Prediction Accuracy",value:"89.3%",change:"+4.1%",trend:"up",icon:e.jsx(Z,{className:"w-6 h-6"}),color:"bg-blue-500"},{title:"Processing Speed",value:"12ms",change:"-8.7%",trend:"down",icon:e.jsx(we,{className:"w-6 h-6"}),color:"bg-yellow-500"}],$=[{name:"Lun",transactions:1240,revenue:45600,predictions:1180},{name:"Mar",transactions:1890,revenue:67800,predictions:1820},{name:"Mer",transactions:2100,revenue:78900,predictions:2050},{name:"Gio",transactions:1750,revenue:62300,predictions:1690},{name:"Ven",transactions:2450,revenue:89200,predictions:2380},{name:"Sab",transactions:2890,revenue:102400,predictions:2820},{name:"Dom",transactions:2200,revenue:81500,predictions:2150}],E=[{name:"Fraud Detection",value:96.2},{name:"Risk Assessment",value:91.8},{name:"Pattern Recognition",value:94.5},{name:"Anomaly Detection",value:88.7},{name:"Predictive Modeling",value:92.3}],j=[{name:"Basso Rischio",value:68,color:"#10B981"},{name:"Medio Rischio",value:24,color:"#F59E0B"},{name:"Alto Rischio",value:8,color:"#EF4444"}],c=[{type:"Opportunità",message:"Incremento del 23% nelle transazioni mobile previsto per la prossima settimana",confidence:87,impact:"Alto"},{type:"Rischio",message:"Pattern anomalo rilevato nelle transazioni serali (+15% rispetto alla norma)",confidence:92,impact:"Medio"},{type:"Ottimizzazione",message:"Suggerito aggiornamento algoritmo per ridurre falsi positivi del 12%",confidence:78,impact:"Alto"}],I=r.useCallback(a=>{const l={metrics:p,transactionData:$,aiInsights:c,timestamp:new Date().toISOString()};if(a==="json"){const d=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),t=URL.createObjectURL(d),i=document.createElement("a");i.href=t,i.download=`ai-analytics-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(t)}else if(a==="csv"){const d=["Metric,Value,Change,Trend",...p.map(u=>`${u.title},${u.value},${u.change},${u.trend}`)].join(`
`),t=new Blob([d],{type:"text/csv"}),i=URL.createObjectURL(t),x=document.createElement("a");x.href=i,x.download=`ai-analytics-${new Date().toISOString().split("T")[0]}.csv`,x.click(),URL.revokeObjectURL(i)}},[p,$,c]),y=r.useCallback(a=>{N(l=>l.map(d=>d.id===a?{...d,read:!0}:d))},[]),J=r.useCallback(()=>{N([])},[]),Q=r.useCallback(a=>{q(a),v(!0),setTimeout(()=>v(!1),800)},[]),Y=r.useCallback(a=>{F(l=>l.map(d=>d.id===a?{...d,visible:!d.visible}:d))},[]),O=K.filter(a=>!a.read).length;return P?e.jsx("div",{className:"p-6 min-h-screen bg-gray-50",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((a,l)=>e.jsx("div",{className:"h-32 bg-gray-300 rounded-lg"},l))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-80 bg-gray-300 rounded-lg"}),e.jsx("div",{className:"h-80 bg-gray-300 rounded-lg"})]})]})}):e.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(A,{className:"w-8 h-8 text-purple-600"}),"AI Analytics Dashboard"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>X(!g),className:`p-2 rounded-lg transition-colors ${g?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,title:"Auto Refresh",children:e.jsx(pe,{className:`h-4 w-4 ${g?"animate-spin":""}`})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>G(!o),className:"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors relative",children:[e.jsx(de,{className:"h-4 w-4"}),O>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:O})]}),o&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border z-50",children:[e.jsxs("div",{className:"p-3 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold",children:"Notifiche"}),e.jsx("button",{onClick:J,className:"text-sm text-blue-600 hover:text-blue-800",children:"Cancella tutto"})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:K.length===0?e.jsx("p",{className:"p-4 text-gray-500 text-center",children:"Nessuna notifica"}):K.map(a=>e.jsx("div",{className:`p-3 border-b hover:bg-gray-50 cursor-pointer ${a.read?"":"bg-blue-50"}`,onClick:()=>y(a.id),children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:a.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.message})]}),e.jsx("span",{className:"text-xs text-gray-400",children:a.timestamp})]})},a.id))})]})]}),e.jsx("button",{onClick:()=>W(!m),className:"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",title:"Filtri",children:e.jsx(oe,{className:"h-4 w-4"})}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:e.jsx(te,{className:"h-4 w-4"})}),e.jsxs("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-lg shadow-lg border opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:[e.jsx("button",{onClick:()=>I("json"),className:"w-full text-left px-3 py-2 hover:bg-gray-50 text-sm",children:"Export JSON"}),e.jsx("button",{onClick:()=>I("csv"),className:"w-full text-left px-3 py-2 hover:bg-gray-50 text-sm",children:"Export CSV"})]})]}),e.jsx("button",{onClick:()=>_(!w),className:`p-2 rounded-lg transition-colors ${w?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,title:"Personalizza Dashboard",children:e.jsx(ae,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex gap-2",children:["24h","7d","30d","90d"].map(a=>e.jsx("button",{onClick:()=>V(a),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${B===a?"bg-purple-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:a},a))})]})]}),m&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Periodo"}),e.jsxs("select",{value:h.dateRange,onChange:a=>Q({...h,dateRange:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"24h",children:"Ultime 24 ore"}),e.jsx("option",{value:"7d",children:"Ultimi 7 giorni"}),e.jsx("option",{value:"30d",children:"Ultimi 30 giorni"}),e.jsx("option",{value:"90d",children:"Ultimi 90 giorni"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metriche"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tutte le metriche"}),e.jsx("option",{value:"revenue",children:"Solo Revenue"}),e.jsx("option",{value:"transactions",children:"Solo Transazioni"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Regioni"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tutte le regioni"}),e.jsx("option",{value:"eu",children:"Europa"}),e.jsx("option",{value:"na",children:"Nord America"}),e.jsx("option",{value:"asia",children:"Asia"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Canali"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tutti i canali"}),e.jsx("option",{value:"web",children:"Web"}),e.jsx("option",{value:"mobile",children:"Mobile"}),e.jsx("option",{value:"api",children:"API"})]})]})]})}),w&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Personalizza Widget Dashboard"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:L.map(a=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.visible,onChange:()=>Y(a.id),className:"rounded"}),e.jsx("span",{className:"text-sm",children:a.title})]},a.id))})]}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Analisi avanzate powered by AI per ottimizzare le performance del gateway"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:p.map((a,l)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${a.color} text-white`,children:a.icon}),e.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${a.trend==="up"?"text-green-600":"text-red-600"}`,children:[a.trend==="up"?e.jsx(z,{className:"w-4 h-4"}):e.jsx(Te,{className:"w-4 h-4"}),a.change]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:a.value}),e.jsx("p",{className:"text-gray-600 text-sm",children:a.title})]})]},l))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-blue-600"}),"Trend Transazioni vs Predizioni AI"]})}),e.jsx(b,{width:"100%",height:300,children:e.jsxs(ue,{data:$,children:[e.jsx(k,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(R,{dataKey:"name",stroke:"#6b7280"}),e.jsx(C,{stroke:"#6b7280"}),e.jsx(f,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e.jsx(U,{type:"monotone",dataKey:"transactions",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),e.jsx(U,{type:"monotone",dataKey:"predictions",stackId:"2",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-green-600"}),"Performance Modelli AI"]})}),e.jsx(b,{width:"100%",height:300,children:e.jsxs(ie,{data:E,layout:"horizontal",children:[e.jsx(k,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(R,{type:"number",domain:[0,100],stroke:"#6b7280"}),e.jsx(C,{dataKey:"name",type:"category",stroke:"#6b7280",width:120}),e.jsx(f,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:a=>[`${a}%`,"Accuratezza"]}),e.jsx(D,{dataKey:"value",fill:"#10b981",radius:[0,4,4,0]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-orange-600"}),"Distribuzione Rischi"]}),e.jsx(b,{width:"100%",height:250,children:e.jsxs(xe,{children:[e.jsx(he,{data:j,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:j.map((a,l)=>e.jsx(ge,{fill:a.color},`cell-${l}`))}),e.jsx(f,{formatter:a=>[`${a}%`,"Percentuale"]})]})}),e.jsx("div",{className:"mt-4 space-y-2",children:j.map((a,l)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),e.jsx("span",{className:"text-sm text-gray-600",children:a.name})]}),e.jsxs("span",{className:"text-sm font-medium",children:[a.value,"%"]})]},l))})]}),e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-purple-600"}),"AI Insights & Raccomandazioni"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-sm bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200 transition-colors",children:"Genera Report"}),e.jsx("button",{className:"px-3 py-1 text-sm bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",children:"Applica Suggerimenti"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Analisi Automatiche"}),c.map((a,l)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.type==="Opportunità"?"bg-green-100 text-green-800":a.type==="Rischio"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:a.type}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.impact==="Alto"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:["Impatto ",a.impact]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Confidenza: ",a.confidence,"%"]})]}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:a.message}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 bg-purple-600 text-white text-xs rounded-lg hover:bg-purple-700 transition-colors",children:"Applica"}),e.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-xs rounded-lg hover:bg-gray-200 transition-colors",children:"Dettagli"})]})]},l))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Predizioni & Raccomandazioni"}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(z,{className:"h-4 w-4 text-green-600"}),e.jsx("h5",{className:"font-medium text-green-900",children:"Previsione Revenue"})]}),e.jsx("p",{className:"text-sm text-green-700 mb-2",children:"Crescita prevista del +12.5% nei prossimi 30 giorni"}),e.jsx("div",{className:"text-xs text-green-600",children:"Basato su trend attuali e stagionalità"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(M,{className:"h-4 w-4 text-yellow-600"}),e.jsx("h5",{className:"font-medium text-yellow-900",children:"Alert Rischio"})]}),e.jsx("p",{className:"text-sm text-yellow-700 mb-2",children:"Aumento anomalo transazioni fallite (3.2%)"}),e.jsx("div",{className:"text-xs text-yellow-600",children:"Raccomandazione: Verificare connessioni provider"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ae,{className:"h-4 w-4 text-blue-600"}),e.jsx("h5",{className:"font-medium text-blue-900",children:"Ottimizzazione"})]}),e.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"Routing intelligente può ridurre latenza del 15%"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Implementazione automatica disponibile"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(me,{className:"h-4 w-4 text-purple-600"}),e.jsx("h5",{className:"font-medium text-purple-900",children:"Performance Insight"})]}),e.jsx("p",{className:"text-sm text-purple-700 mb-2",children:"Picco di traffico previsto Venerdì 14:00-16:00"}),e.jsx("div",{className:"text-xs text-purple-600",children:"Suggerimento: Pre-scaling automatico"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-green-600"}),"Stato Real-time Sistema AI"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full animate-pulse"})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Sistema Operativo"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tutti i modelli AI funzionano correttamente"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(we,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Latenza Media"}),e.jsx("p",{className:"text-sm text-gray-600",children:"12ms - Performance ottimale"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(A,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Modelli Attivi"}),e.jsx("p",{className:"text-sm text-gray-600",children:"5/5 modelli in esecuzione"})]})]})]})]})},Ze=r.memo(()=>{const[B,V]=r.useState("24h"),[P,v]=r.useState("all"),[K,N]=r.useState(!0),[o,G]=r.useState(""),[h,q]=r.useState("overview"),[m,W]=r.useState([]),[L,F]=r.useState([]),[w,_]=r.useState([]),[g,X]=r.useState(!0),[S,H]=r.useState(!1);r.useState("ensemble");const[p,$]=r.useState(75);r.useEffect(()=>{const t=setTimeout(()=>N(!1),1200);return F([{title:"Frodi Bloccate",value:"47",change:"+12%",trend:"up",icon:e.jsx(Se,{className:"w-6 h-6"}),color:"bg-green-500"},{title:"Risparmi Totali",value:"€127,450",change:"+23%",trend:"up",icon:e.jsx(z,{className:"w-6 h-6"}),color:"bg-blue-500"},{title:"Falsi Positivi",value:"3.2%",change:"-8%",trend:"down",icon:e.jsx(se,{className:"w-6 h-6"}),color:"bg-yellow-500"},{title:"Tempo Risposta",value:"0.8s",change:"-15%",trend:"down",icon:e.jsx($e,{className:"w-6 h-6"}),color:"bg-purple-500"}]),_([{id:"FR001",timestamp:"2024-01-15 14:32:15",type:"high",description:"Transazione sospetta: importo anomalo per il merchant",amount:15e3,merchant:"TechStore Milano",location:"Milano, IT",riskScore:94,status:"pending"},{id:"FR002",timestamp:"2024-01-15 14:28:42",type:"medium",description:"Pattern di velocità transazioni anomalo",amount:2500,merchant:"Fashion Boutique",location:"Roma, IT",riskScore:76,status:"pending"},{id:"FR003",timestamp:"2024-01-15 14:15:33",type:"high",description:"Geolocalizzazione impossibile: transazioni simultanee",amount:8900,merchant:"Online Electronics",location:"Napoli, IT",riskScore:89,status:"resolved"},{id:"FR004",timestamp:"2024-01-15 13:45:12",type:"low",description:"Comportamento utente leggermente anomalo",amount:450,merchant:"Caffè Central",location:"Firenze, IT",riskScore:45,status:"false_positive"}]),()=>clearTimeout(t)},[]),r.useEffect(()=>{if(!g)return;const t=setInterval(()=>{if(Math.random()>.8){const i=["critical","high","medium","low"],x=["Velocity Check","Geolocation","Device Fingerprint","Behavioral Analysis"],u={id:`alert-${Date.now()}`,timestamp:new Date().toLocaleTimeString(),severity:i[Math.floor(Math.random()*i.length)],type:x[Math.floor(Math.random()*x.length)],message:"Transazione sospetta rilevata",actionRequired:Math.random()>.6,autoBlocked:Math.random()>.7};W(le=>[u,...le.slice(0,9)])}},5e3);return()=>clearInterval(t)},[g]);const E=[{time:"00:00",detected:12,blocked:8,falsePositives:2},{time:"04:00",detected:8,blocked:6,falsePositives:1},{time:"08:00",detected:25,blocked:18,falsePositives:4},{time:"12:00",detected:35,blocked:28,falsePositives:3},{time:"16:00",detected:42,blocked:35,falsePositives:5},{time:"20:00",detected:38,blocked:31,falsePositives:4},{time:"23:59",detected:28,blocked:22,falsePositives:3}],j=[{name:"Basso Rischio",value:65,color:"#10B981"},{name:"Medio Rischio",value:25,color:"#F59E0B"},{name:"Alto Rischio",value:10,color:"#EF4444"}],c=[{id:"ensemble",name:"Ensemble Model",accuracy:94.7,precision:92.3,recall:89.1,f1Score:90.6,lastTrained:"2024-01-15",status:"active",predictions:15420},{id:"neural_network",name:"Deep Neural Network",accuracy:91.2,precision:88.7,recall:93.4,f1Score:91,lastTrained:"2024-01-14",status:"active",predictions:12890},{id:"random_forest",name:"Random Forest",accuracy:89.5,precision:91.2,recall:85.8,f1Score:88.4,lastTrained:"2024-01-13",status:"training",predictions:8760}],I=[{id:"velocity",pattern:"Velocity Anomaly",riskLevel:"high",frequency:23,description:"Transazioni multiple in breve tempo",examples:["5+ transazioni in 10 minuti","Importi crescenti rapidamente"]},{id:"geolocation",pattern:"Geolocation Jump",riskLevel:"medium",frequency:18,description:"Cambi di posizione geografica impossibili",examples:["Milano → Tokyo in 2 ore","VPN/Proxy detection"]},{id:"device",pattern:"Device Fingerprint",riskLevel:"medium",frequency:31,description:"Dispositivi sospetti o compromessi",examples:["Browser modificato","Emulatori mobili"]},{id:"behavioral",pattern:"Behavioral Shift",riskLevel:"low",frequency:12,description:"Cambiamenti nel comportamento utente",examples:["Orari inusuali","Pattern di spesa anomali"]}],y=[{country:"Nigeria",riskScore:8.7,transactions:234,fraudRate:12.3,trend:"increasing"},{country:"Romania",riskScore:6.2,transactions:567,fraudRate:8.9,trend:"stable"},{country:"Brazil",riskScore:5.8,transactions:1234,fraudRate:7.2,trend:"decreasing"},{country:"India",riskScore:4.3,transactions:2890,fraudRate:5.1,trend:"stable"},{country:"Russia",riskScore:7.1,transactions:445,fraudRate:9.8,trend:"increasing"}],J=r.useCallback(()=>{const t={models:c,patterns:I,geographicRisks:y,alerts:m,timestamp:new Date().toISOString()},i=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),x=URL.createObjectURL(i),u=document.createElement("a");u.href=x,u.download=`fraud-detection-report-${new Date().toISOString().split("T")[0]}.json`,u.click(),URL.revokeObjectURL(x)},[c,I,y,m]),Q=t=>{switch(t){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500";default:return"bg-gray-500"}},Y=t=>{switch(t){case"active":return"text-green-600 bg-green-100";case"training":return"text-yellow-600 bg-yellow-100";case"inactive":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},O=[{pattern:"Transazioni Multiple Rapide",occurrences:23,riskLevel:"Alto"},{pattern:"Importi Anomali",occurrences:18,riskLevel:"Alto"},{pattern:"Geolocalizzazione Sospetta",occurrences:15,riskLevel:"Medio"},{pattern:"Orari Inusuali",occurrences:12,riskLevel:"Medio"},{pattern:"Dispositivi Non Riconosciuti",occurrences:8,riskLevel:"Basso"}],a=w.filter(t=>{const i=P==="all"||t.status===P,x=t.description.toLowerCase().includes(o.toLowerCase())||t.merchant.toLowerCase().includes(o.toLowerCase())||t.id.toLowerCase().includes(o.toLowerCase());return i&&x}),l=t=>{switch(t){case"pending":return"bg-orange-100 text-orange-800";case"resolved":return"bg-green-100 text-green-800";case"false_positive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},d=t=>{switch(t){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return K?e.jsx("div",{className:"p-6 min-h-screen bg-gray-50",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((t,i)=>e.jsx("div",{className:"h-32 bg-gray-300 rounded-lg"},i))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-80 bg-gray-300 rounded-lg"}),e.jsx("div",{className:"h-80 bg-gray-300 rounded-lg"})]})]})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Se,{className:"text-red-600"}),"Sistema Anti-Frode ML"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>X(!g),className:`p-2 rounded-lg transition-colors ${g?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,title:"Auto Refresh",children:e.jsx(pe,{className:`h-4 w-4 ${g?"animate-spin":""}`})}),e.jsx("button",{onClick:()=>H(!S),className:`p-2 rounded-lg transition-colors ${S?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,title:"ML Insights",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsx("button",{onClick:J,className:"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",title:"Export Report",children:e.jsx(te,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:e.jsx(ae,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"flex space-x-1 mb-6",children:[{id:"overview",label:"Overview",icon:ke},{id:"models",label:"ML Models",icon:A},{id:"patterns",label:"Behavior Patterns",icon:Z},{id:"geographic",label:"Geographic Risk",icon:Re},{id:"realtime",label:"Real-time Alerts",icon:de}].map(t=>{const i=t.icon;return e.jsxs("button",{onClick:()=>q(t.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${h===t.id?"bg-red-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(i,{className:"h-4 w-4"}),t.label]},t.id)})}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cerca transazioni...",value:o,onChange:t=>G(t.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),e.jsxs("select",{value:P,onChange:t=>v(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:"Tutti gli stati"}),e.jsx("option",{value:"pending",children:"In attesa"}),e.jsx("option",{value:"resolved",children:"Risolti"}),e.jsx("option",{value:"false_positive",children:"Falsi positivi"})]}),e.jsxs("select",{value:B,onChange:t=>V(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"24h",children:"Ultime 24 ore"}),e.jsx("option",{value:"7d",children:"Ultimi 7 giorni"}),e.jsx("option",{value:"30d",children:"Ultimi 30 giorni"}),e.jsx("option",{value:"90d",children:"Ultimi 90 giorni"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Soglia Alert:"}),e.jsx("input",{type:"range",min:"50",max:"95",value:p,onChange:t=>$(Number(t.target.value)),className:"w-20"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[p,"%"]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:L.map((t,i)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${t.color} text-white`,children:t.icon}),e.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${t.trend==="up"?"text-green-600":"text-red-600"}`,children:[t.trend==="up"?e.jsx(z,{className:"w-4 h-4"}):e.jsx(z,{className:"w-4 h-4 rotate-180"}),t.change]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:t.value}),e.jsx("p",{className:"text-gray-600 text-sm",children:t.title})]})]},i))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(ke,{className:"w-5 h-5 text-blue-600"}),"Trend Rilevamento Frodi (24h)"]})}),e.jsx(b,{width:"100%",height:300,children:e.jsxs(ue,{data:E,children:[e.jsx(k,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(R,{dataKey:"time",stroke:"#6b7280"}),e.jsx(C,{stroke:"#6b7280"}),e.jsx(f,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e.jsx(U,{type:"monotone",dataKey:"detected",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6}),e.jsx(U,{type:"monotone",dataKey:"blocked",stackId:"2",stroke:"#10b981",fill:"#10b981",fillOpacity:.6}),e.jsx(U,{type:"monotone",dataKey:"falsePositives",stackId:"3",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.6})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-orange-600"}),"Distribuzione Livelli di Rischio"]})}),e.jsx(b,{width:"100%",height:250,children:e.jsxs(xe,{children:[e.jsx(he,{data:j,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:j.map((t,i)=>e.jsx(ge,{fill:t.color},`cell-${i}`))}),e.jsx(f,{formatter:t=>[`${t}%`,"Percentuale"]})]})}),e.jsx("div",{className:"mt-4 space-y-2",children:j.map((t,i)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-sm text-gray-600",children:t.name})]}),e.jsxs("span",{className:"text-sm font-medium",children:[t.value,"%"]})]},i))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(oe,{className:"w-5 h-5 text-purple-600"}),"Pattern di Frode Rilevati"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map((t,i)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:t.pattern}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.riskLevel==="Alto"?"bg-red-100 text-red-800":t.riskLevel==="Medio"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.riskLevel})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Occorrenze:"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:t.occurrences})]})]},i))})]}),h==="models"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-purple-600"}),"Modelli Machine Learning"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(t=>e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y(t.status)}`,children:t.status})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Accuracy:"}),e.jsxs("span",{className:"font-medium",children:[t.accuracy,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Precision:"}),e.jsxs("span",{className:"font-medium",children:[t.precision,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Recall:"}),e.jsxs("span",{className:"font-medium",children:[t.recall,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"F1-Score:"}),e.jsxs("span",{className:"font-medium",children:[t.f1Score,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Predictions:"}),e.jsx("span",{className:"font-medium",children:t.predictions.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Last Trained:"}),e.jsx("span",{className:"font-medium",children:t.lastTrained})]})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700",children:"Retrain"}),e.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-xs rounded hover:bg-gray-200",children:"Details"})]})]},t.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Performance Comparison"}),e.jsx(b,{width:"100%",height:300,children:e.jsxs(ie,{data:c,children:[e.jsx(k,{strokeDasharray:"3 3"}),e.jsx(R,{dataKey:"name"}),e.jsx(C,{}),e.jsx(f,{}),e.jsx(D,{dataKey:"accuracy",fill:"#8884d8",name:"Accuracy"}),e.jsx(D,{dataKey:"precision",fill:"#82ca9d",name:"Precision"}),e.jsx(D,{dataKey:"recall",fill:"#ffc658",name:"Recall"})]})})]})]}),h==="patterns"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5 text-orange-600"}),"Pattern Comportamentali"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:I.map(t=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.pattern}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.riskLevel==="high"?"bg-red-100 text-red-800":t.riskLevel==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[t.riskLevel," risk"]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:t.description}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Frequency:"}),e.jsxs("span",{className:"font-medium",children:[t.frequency," detections"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block mb-1",children:"Examples:"}),e.jsx("ul",{className:"text-xs text-gray-500 space-y-1",children:t.examples.map((i,x)=>e.jsxs("li",{children:["• ",i]},x))})]})]})]},t.id))})]})}),h==="geographic"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Re,{className:"h-5 w-5 text-blue-600"}),"Rischio Geografico"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Paese"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Risk Score"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Transazioni"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Fraud Rate"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Trend"})]})}),e.jsx("tbody",{children:y.map((t,i)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:t.country}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${t.riskScore>7?"bg-red-500":t.riskScore>5?"bg-yellow-500":"bg-green-500"}`}),t.riskScore,"/10"]})}),e.jsx("td",{className:"py-3 px-4",children:t.transactions.toLocaleString()}),e.jsxs("td",{className:"py-3 px-4",children:[t.fraudRate,"%"]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.trend==="increasing"?"bg-red-100 text-red-800":t.trend==="decreasing"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.trend})})]},i))})]})})]})}),h==="realtime"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5 text-red-600"}),"Alert Real-time"]}),e.jsx("div",{className:"space-y-3",children:m.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nessun alert attivo"}):m.map(t=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${Q(t.severity)}`}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-gray-900",children:t.type}),e.jsx("span",{className:"text-xs text-gray-500",children:t.timestamp})]}),e.jsx("p",{className:"text-sm text-gray-600",children:t.message}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[t.actionRequired&&e.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded",children:"Azione richiesta"}),t.autoBlocked&&e.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Auto-bloccato"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"Investigate"}),e.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-xs rounded hover:bg-gray-200",children:"Dismiss"})]})]})},t.id))})]})}),h==="overview"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-orange-600"}),"Distribuzione Livelli di Rischio"]})}),e.jsx(b,{width:"100%",height:250,children:e.jsxs(xe,{children:[e.jsx(he,{data:j,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:j.map((t,i)=>e.jsx(ge,{fill:t.color},`cell-${i}`))}),e.jsx(f,{formatter:t=>[`${t}%`,"Percentuale"]})]})}),e.jsx("div",{className:"mt-4 space-y-2",children:j.map((t,i)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-sm text-gray-600",children:t.name})]}),e.jsxs("span",{className:"text-sm font-medium",children:[t.value,"%"]})]},i))})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(oe,{className:"w-5 h-5 text-purple-600"}),"Pattern di Frode Rilevati"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map((t,i)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:t.pattern}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.riskLevel==="Alto"?"bg-red-100 text-red-800":t.riskLevel==="Medio"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.riskLevel})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Occorrenze:"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:t.occurrences})]})]},i))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-red-600"}),"Alert Frodi in Tempo Reale"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ce,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cerca alert...",value:o,onChange:t=>G(t.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),e.jsxs("select",{value:P,onChange:t=>v(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Tutti gli stati"}),e.jsx("option",{value:"pending",children:"In attesa"}),e.jsx("option",{value:"resolved",children:"Risolti"}),e.jsx("option",{value:"false_positive",children:"Falsi positivi"})]}),e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4"}),"Esporta"]})]})]}),e.jsx("div",{className:"space-y-4",children:a.map(t=>e.jsxs("div",{className:`border rounded-lg p-4 hover:bg-gray-50 transition-colors ${d(t.type)}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono text-sm font-medium",children:t.id}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l(t.status)}`,children:t.status==="pending"?"In attesa":t.status==="resolved"?"Risolto":"Falso positivo"})]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:t.timestamp}),e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["€",t.amount.toLocaleString()]})]})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:t.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:t.merchant})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Risk Score: ",t.riskScore,"%"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[t.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1",children:[e.jsx(Me,{className:"w-4 h-4"}),"Conferma Frode"]}),e.jsxs("button",{className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-1",children:[e.jsx(Ue,{className:"w-4 h-4"}),"Falso Positivo"]})]}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Dettagli"})]})]},t.id))}),a.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(M,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nessun alert trovato con i filtri selezionati"})]})]})]})});Ze.displayName="FraudDetection";const He=r.memo(()=>{var be,je,fe,ye,ve;const[B,V]=r.useState("30d"),[P,v]=r.useState("revenue"),[K,N]=r.useState(!1),[o,G]=r.useState("forecasts"),[h,q]=r.useState(!1),[m,W]=r.useState(null),[L,F]=r.useState(!1),[w,_]=r.useState(!1),[g,X]=r.useState("ensemble-001"),[S,H]=r.useState(!1),[p,$]=r.useState([]),[E,j]=r.useState([]),[c,I]=r.useState([]),[y,J]=r.useState([]);r.useEffect(()=>{N(!0);const s=setTimeout(()=>N(!1),1e3);return()=>clearTimeout(s)},[B,P]);const Q=[{id:"rev-001",name:"Revenue Forecasting",accuracy:94.2,status:"active",lastUpdated:"2 ore fa",predictions:1247,type:"revenue"},{id:"fraud-001",name:"Fraud Detection ML",accuracy:98.7,status:"active",lastUpdated:"15 min fa",predictions:3421,type:"fraud"},{id:"churn-001",name:"Customer Churn",accuracy:87.3,status:"training",lastUpdated:"1 giorno fa",predictions:892,type:"churn"},{id:"demand-001",name:"Demand Prediction",accuracy:91.8,status:"active",lastUpdated:"30 min fa",predictions:2156,type:"demand"}],Y=[{period:"Gen 2024",actual:125e3,predicted:128e3,confidence:92,trend:"up"},{period:"Feb 2024",actual:132e3,predicted:135e3,confidence:89,trend:"up"},{period:"Mar 2024",actual:145e3,predicted:142e3,confidence:91,trend:"up"},{period:"Apr 2024",actual:138e3,predicted:14e4,confidence:88,trend:"stable"},{period:"Mag 2024",predicted:155e3,confidence:85,trend:"up"},{period:"Giu 2024",predicted:162e3,confidence:82,trend:"up"},{period:"Lug 2024",predicted:158e3,confidence:79,trend:"down"},{period:"Ago 2024",predicted:165e3,confidence:76,trend:"up"}],O=[{segment:"Premium",churnRate:2.1,predicted:2.8,risk:"low"},{segment:"Business",churnRate:4.3,predicted:5.1,risk:"medium"},{segment:"Standard",churnRate:8.7,predicted:9.2,risk:"medium"},{segment:"Basic",churnRate:12.4,predicted:14.1,risk:"high"}],a=[{factor:"Volatilità del mercato",impact:"high",probability:68,description:"Fluttuazioni economiche potrebbero influenzare i volumi"},{factor:"Competizione crescente",impact:"medium",probability:45,description:"Nuovi competitor nel settore fintech"},{factor:"Cambiamenti normativi",impact:"high",probability:32,description:"Possibili nuove regolamentazioni PCI DSS"},{factor:"Stagionalità Q4",impact:"medium",probability:78,description:"Aumento previsto delle transazioni nel periodo natalizio"}],l=[{id:"ins-001",title:"Crescita Revenue Q2",description:"Il modello prevede una crescita del 23% nel Q2 2024 guidata dall'e-commerce",impact:"positive",confidence:89,category:"revenue",actionable:!0},{id:"ins-002",title:"Rischio Churn Segmento Basic",description:"Aumento del 15% del churn previsto per clienti Basic nei prossimi 3 mesi",impact:"negative",confidence:76,category:"risk",actionable:!0},{id:"ins-003",title:"Opportunità Cross-selling",description:"Identificati 340 clienti con alta propensione all'acquisto di servizi premium",impact:"positive",confidence:82,category:"opportunity",actionable:!0},{id:"ins-004",title:"Trend Pagamenti Mobile",description:"Crescita del 45% nei pagamenti mobile, opportunità di ottimizzazione UX",impact:"neutral",confidence:94,category:"trend",actionable:!1}];I([{id:"scenario-001",name:"Crescita Ottimistica",description:"Scenario con crescita del mercato del 15% e bassa competizione",parameters:{marketGrowth:15,competitionLevel:25,economicFactor:85,seasonality:110},results:{revenueImpact:28.5,riskLevel:15,probability:72}},{id:"scenario-002",name:"Scenario Conservativo",description:"Crescita moderata con fattori economici stabili",parameters:{marketGrowth:5,competitionLevel:50,economicFactor:75,seasonality:100},results:{revenueImpact:8.2,riskLevel:25,probability:85}},{id:"scenario-003",name:"Scenario Pessimistico",description:"Recessione economica con alta competizione",parameters:{marketGrowth:-5,competitionLevel:80,economicFactor:45,seasonality:90},results:{revenueImpact:-12.8,riskLevel:65,probability:35}}]),J([{id:"ensemble-001",name:"Revenue Prediction Ensemble",models:["LSTM","Random Forest","XGBoost","ARIMA"],weights:[.35,.25,.25,.15],performance:{accuracy:96.2,precision:94.8,recall:95.1,f1Score:94.9},status:"active"},{id:"ensemble-002",name:"Risk Assessment Ensemble",models:["SVM","Neural Network","Gradient Boosting"],weights:[.4,.35,.25],performance:{accuracy:93.7,precision:92.3,recall:94.1,f1Score:93.2},status:"training"}]),r.useEffect(()=>{$([{parameter:"Tasso di Interesse",impact:.85,confidence:92,direction:"negative",elasticity:-1.2},{parameter:"Crescita PIL",impact:.72,confidence:88,direction:"positive",elasticity:.9},{parameter:"Inflazione",impact:.68,confidence:85,direction:"negative",elasticity:-.7},{parameter:"Spesa Consumatori",impact:.91,confidence:94,direction:"positive",elasticity:1.1},{parameter:"Volatilità Mercato",impact:.56,confidence:78,direction:"negative",elasticity:-.5}]),j([{modelName:"LSTM Neural Network",accuracy:94.2,precision:93.1,recall:94.8,f1Score:93.9,trainingTime:45,predictionSpeed:12},{modelName:"Random Forest",accuracy:91.8,precision:90.5,recall:92.1,f1Score:91.3,trainingTime:15,predictionSpeed:8},{modelName:"XGBoost",accuracy:93.5,precision:92.8,recall:93.2,f1Score:93,trainingTime:22,predictionSpeed:10},{modelName:"ARIMA",accuracy:87.3,precision:86.1,recall:88.5,f1Score:87.3,trainingTime:8,predictionSpeed:5}])},[]);const d=[{hour:"00:00",current:45,predicted:52,confidence:88},{hour:"04:00",current:23,predicted:28,confidence:91},{hour:"08:00",current:156,predicted:162,confidence:94},{hour:"12:00",current:234,predicted:241,confidence:89},{hour:"16:00",current:189,predicted:195,confidence:92},{hour:"20:00",current:167,predicted:172,confidence:87},{hour:"23:59",current:78,predicted:84,confidence:85}],t=s=>{switch(s){case"active":return"text-green-600 bg-green-100";case"training":return"text-yellow-600 bg-yellow-100";case"inactive":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},i=s=>{switch(s){case"positive":return"text-green-600 bg-green-100 border-green-200";case"negative":return"text-red-600 bg-red-100 border-red-200";case"neutral":return"text-blue-600 bg-blue-100 border-blue-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},x=s=>{switch(s){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},u=r.useCallback(async s=>{F(!0),W(s),await new Promise(n=>setTimeout(n,2e3)),F(!1)},[]),le=r.useCallback(s=>{const n={scenarios:c,ensembleModels:y,sensitivityAnalysis:p,modelComparisons:E,timestamp:new Date().toISOString()};if(s==="json"){const ee=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),Ne=URL.createObjectURL(ee),ne=document.createElement("a");ne.href=Ne,ne.download=`predictive-analytics-report-${new Date().toISOString().split("T")[0]}.json`,ne.click(),URL.revokeObjectURL(Ne)}},[c,y,p,E]),De=s=>{switch(s){case"active":return"text-green-600 bg-green-100";case"training":return"text-yellow-600 bg-yellow-100";case"evaluating":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},Fe=s=>s==="positive"?e.jsx(z,{className:"w-4 h-4 text-green-600"}):e.jsx(Te,{className:"w-4 h-4 text-red-600"}),T=s=>s>=95?"text-green-600":s>=90?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(A,{className:"w-8 h-8 text-purple-600"}),"Analisi Predittive AI",L&&e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}),e.jsx("span",{className:"text-sm text-purple-600",children:"Simulazione in corso..."})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>_(!w),className:`px-3 py-2 rounded-lg flex items-center gap-2 transition-colors ${w?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[w?e.jsx(Be,{className:"w-4 h-4"}):e.jsx(Ke,{className:"w-4 h-4"}),"Auto-refresh"]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg border px-3 py-2",children:[e.jsx(te,{className:"w-4 h-4 text-gray-600"}),e.jsxs("select",{onChange:s=>le(s.target.value),className:"border-none bg-transparent text-sm focus:outline-none",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Esporta Report"}),e.jsx("option",{value:"json",children:"JSON"}),e.jsx("option",{value:"excel",children:"Excel"}),e.jsx("option",{value:"pdf",children:"PDF"})]})]}),e.jsxs("button",{onClick:()=>q(!h),className:`px-3 py-2 rounded-lg flex items-center gap-2 transition-colors ${h?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:[e.jsx(ae,{className:"w-4 h-4"}),"Controlli Avanzati"]}),e.jsxs("select",{value:B,onChange:s=>V(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"7d",children:"Ultimi 7 giorni"}),e.jsx("option",{value:"30d",children:"Ultimi 30 giorni"}),e.jsx("option",{value:"90d",children:"Ultimi 90 giorni"}),e.jsx("option",{value:"1y",children:"Ultimo anno"})]}),e.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4"}),"Aggiorna Modelli"]})]})]}),h&&e.jsx("div",{className:"bg-white rounded-lg border p-4 mb-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modello Ensemble"}),e.jsx("select",{value:g,onChange:s=>X(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:y.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scenario What-If"}),e.jsxs("select",{value:m||"",onChange:s=>s.target.value&&u(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",disabled:L,children:[e.jsx("option",{value:"",children:"Seleziona scenario"}),c.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("button",{onClick:()=>H(!S),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${S?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:[e.jsx(me,{className:"w-4 h-4"}),"Confronto Modelli"]}),e.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Ge,{className:"w-4 h-4"}),"Condividi"]})]})]})}),e.jsx("p",{className:"text-gray-600",children:"Previsioni e insights basati su machine learning avanzato con analisi what-if e modelli ensemble"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Q.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:`p-2 rounded-lg ${t(s.status)}`,children:[s.type==="revenue"&&e.jsx(Ae,{className:"w-5 h-5"}),s.type==="fraud"&&e.jsx(se,{className:"w-5 h-5"}),s.type==="churn"&&e.jsx(ce,{className:"w-5 h-5"}),s.type==="demand"&&e.jsx(z,{className:"w-5 h-5"})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t(s.status)}`,children:s.status})]}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:s.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Accuratezza:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.accuracy,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Previsioni:"}),e.jsx("span",{className:"font-medium text-gray-900",children:s.predictions.toLocaleString()})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Aggiornato ",s.lastUpdated]})]})]},s.id))}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto",children:[{id:"forecasts",label:"Previsioni Revenue",icon:e.jsx(me,{className:"w-4 h-4"})},{id:"churn",label:"Analisi Churn",icon:e.jsx(ce,{className:"w-4 h-4"})},{id:"demand",label:"Previsione Domanda",icon:e.jsx(re,{className:"w-4 h-4"})},{id:"insights",label:"AI Insights",icon:e.jsx(A,{className:"w-4 h-4"})},{id:"whatif",label:"Scenari What-If",icon:e.jsx(ze,{className:"w-4 h-4"})},{id:"ensemble",label:"Modelli Ensemble",icon:e.jsx(Pe,{className:"w-4 h-4"})},{id:"sensitivity",label:"Analisi Sensibilità",icon:e.jsx(Le,{className:"w-4 h-4"})}].map(s=>e.jsxs("button",{onClick:()=>G(s.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 whitespace-nowrap ${o===s.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.icon,s.label]},s.id))})})}),o==="forecasts"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-green-600"}),"Previsioni Revenue 2024"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Effettivo"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Previsto"})]})]})]}),e.jsx(b,{width:"100%",height:400,children:e.jsxs(Ve,{data:Y,children:[e.jsx(k,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(R,{dataKey:"period",stroke:"#6b7280"}),e.jsx(C,{stroke:"#6b7280"}),e.jsx(f,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(s,n)=>[`€${Number(s).toLocaleString()}`,n==="actual"?"Effettivo":n==="predicted"?"Previsto":"Confidenza"]}),e.jsx(D,{dataKey:"actual",fill:"#3b82f6",name:"actual"}),e.jsx(Ie,{type:"monotone",dataKey:"predicted",stroke:"#10b981",strokeWidth:3,name:"predicted"}),e.jsx(Ie,{type:"monotone",dataKey:"confidence",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5 5",name:"confidence"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5 text-orange-600"}),"Fattori di Rischio"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map((s,n)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.factor}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(s.impact)}`,children:s.impact.toUpperCase()})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Probabilità:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-500",style:{width:`${s.probability}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[s.probability,"%"]})]})]})]},n))})]})]}),o==="churn"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5 text-red-600"}),"Analisi Customer Churn per Segmento"]}),e.jsx(b,{width:"100%",height:400,children:e.jsxs(ie,{data:O,children:[e.jsx(k,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(R,{dataKey:"segment",stroke:"#6b7280"}),e.jsx(C,{stroke:"#6b7280"}),e.jsx(f,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(s,n)=>[`${s}%`,n==="churnRate"?"Churn Attuale":"Churn Previsto"]}),e.jsx(D,{dataKey:"churnRate",fill:"#3b82f6",name:"churnRate"}),e.jsx(D,{dataKey:"predicted",fill:"#ef4444",name:"predicted"})]})})]}),o==="demand"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-blue-600"}),"Previsione Domanda Oraria"]}),e.jsx(b,{width:"100%",height:400,children:e.jsxs(ue,{data:d,children:[e.jsx(k,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(R,{dataKey:"hour",stroke:"#6b7280"}),e.jsx(C,{stroke:"#6b7280"}),e.jsx(f,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(s,n)=>[s,n==="current"?"Attuale":n==="predicted"?"Previsto":"Confidenza"]}),e.jsx(U,{type:"monotone",dataKey:"current",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),e.jsx(U,{type:"monotone",dataKey:"predicted",stackId:"2",stroke:"#10b981",fill:"#10b981",fillOpacity:.4})]})})]}),o==="insights"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map(s=>e.jsxs("div",{className:`border rounded-xl p-6 ${i(s.impact)}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`p-2 rounded-lg ${s.category==="revenue"?"bg-green-100 text-green-600":s.category==="risk"?"bg-red-100 text-red-600":s.category==="opportunity"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:[s.category==="revenue"&&e.jsx(Ae,{className:"w-4 h-4"}),s.category==="risk"&&e.jsx(se,{className:"w-4 h-4"}),s.category==="opportunity"&&e.jsx(Z,{className:"w-4 h-4"}),s.category==="trend"&&e.jsx(z,{className:"w-4 h-4"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.title}),e.jsx("span",{className:"text-xs text-gray-600 uppercase tracking-wide",children:s.category})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[s.confidence,"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Confidenza"})]})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:s.description}),s.actionable&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Azione consigliata disponibile"})]})]},s.id))}),o==="whatif"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-blue-600"}),"Analisi Scenari What-If"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:c.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsx("button",{onClick:()=>u(s.id),disabled:L,className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 disabled:opacity-50",children:L&&m===s.id?"Simulando...":"Simula"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Crescita Mercato:"}),e.jsxs("span",{className:"font-medium",children:[s.parameters.marketGrowth,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Competizione:"}),e.jsxs("span",{className:"font-medium",children:[s.parameters.competitionLevel,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Fattore Economico:"}),e.jsxs("span",{className:"font-medium",children:[s.parameters.economicFactor,"%"]})]})]}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Impatto Revenue:"}),e.jsxs("span",{className:`text-sm font-bold ${s.results.revenueImpact>0?"text-green-600":"text-red-600"}`,children:[s.results.revenueImpact>0?"+":"",s.results.revenueImpact,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Livello Rischio:"}),e.jsxs("span",{className:`text-sm font-bold ${s.results.riskLevel<30?"text-green-600":s.results.riskLevel<60?"text-yellow-600":"text-red-600"}`,children:[s.results.riskLevel,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Probabilità:"}),e.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[s.results.probability,"%"]})]})]})]},s.id))})]}),m&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Risultati Simulazione Dettagliati"}),e.jsx(b,{width:"100%",height:300,children:e.jsxs(qe,{data:[{subject:"Revenue Impact",A:Math.abs(((be=c.find(s=>s.id===m))==null?void 0:be.results.revenueImpact)||0),fullMark:30},{subject:"Risk Level",A:((je=c.find(s=>s.id===m))==null?void 0:je.results.riskLevel)||0,fullMark:100},{subject:"Probability",A:((fe=c.find(s=>s.id===m))==null?void 0:fe.results.probability)||0,fullMark:100},{subject:"Market Growth",A:((ye=c.find(s=>s.id===m))==null?void 0:ye.parameters.marketGrowth)||0,fullMark:20},{subject:"Competition",A:((ve=c.find(s=>s.id===m))==null?void 0:ve.parameters.competitionLevel)||0,fullMark:100}],children:[e.jsx(We,{}),e.jsx(_e,{dataKey:"subject"}),e.jsx(Xe,{angle:90,domain:[0,100]}),e.jsx(Je,{name:"Scenario",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})]})]}),o==="ensemble"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(Pe,{className:"w-5 h-5 text-purple-600"}),"Modelli Ensemble"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:y.map(s=>e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${De(s.status)}`,children:s.status.toUpperCase()})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Accuratezza:"}),e.jsxs("span",{className:`text-sm font-medium ${T(s.performance.accuracy)}`,children:[s.performance.accuracy,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Precisione:"}),e.jsxs("span",{className:`text-sm font-medium ${T(s.performance.precision)}`,children:[s.performance.precision,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Recall:"}),e.jsxs("span",{className:`text-sm font-medium ${T(s.performance.recall)}`,children:[s.performance.recall,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"F1-Score:"}),e.jsxs("span",{className:`text-sm font-medium ${T(s.performance.f1Score)}`,children:[s.performance.f1Score,"%"]})]})]}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Modelli Componenti:"}),e.jsx("div",{className:"space-y-1",children:s.models.map((n,ee)=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:n}),e.jsxs("span",{className:"font-medium",children:[(s.weights[ee]*100).toFixed(1),"%"]})]},ee))})]})]},s.id))}),S&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confronto Performance Modelli"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Modello"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Accuratezza"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Precisione"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Recall"}),e.jsx("th",{className:"text-left py-3 px-4",children:"F1-Score"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Tempo Training (min)"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Velocità (ms)"})]})}),e.jsx("tbody",{children:E.map((s,n)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:s.modelName}),e.jsxs("td",{className:`py-3 px-4 ${T(s.accuracy)}`,children:[s.accuracy,"%"]}),e.jsxs("td",{className:`py-3 px-4 ${T(s.precision)}`,children:[s.precision,"%"]}),e.jsxs("td",{className:`py-3 px-4 ${T(s.recall)}`,children:[s.recall,"%"]}),e.jsxs("td",{className:`py-3 px-4 ${T(s.f1Score)}`,children:[s.f1Score,"%"]}),e.jsx("td",{className:"py-3 px-4",children:s.trainingTime}),e.jsx("td",{className:"py-3 px-4",children:s.predictionSpeed})]},n))})]})})]})]})}),o==="sensitivity"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5 text-orange-600"}),"Analisi di Sensibilità"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Impatto Parametri"}),e.jsx(b,{width:"100%",height:300,children:e.jsxs(ie,{data:p,children:[e.jsx(k,{strokeDasharray:"3 3"}),e.jsx(R,{dataKey:"parameter",angle:-45,textAnchor:"end",height:80}),e.jsx(C,{}),e.jsx(f,{formatter:(s,n)=>[s,"Impatto"]}),e.jsx(D,{dataKey:"impact",fill:"#f59e0b"})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Elasticità"}),e.jsx(b,{width:"100%",height:300,children:e.jsxs(Qe,{data:p,children:[e.jsx(k,{strokeDasharray:"3 3"}),e.jsx(R,{dataKey:"impact",name:"Impatto"}),e.jsx(C,{dataKey:"elasticity",name:"Elasticità"}),e.jsx(f,{cursor:{strokeDasharray:"3 3"}}),e.jsx(Ye,{name:"Parametri",dataKey:"elasticity",fill:"#8884d8"})]})})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Dettagli Parametri"}),e.jsx("div",{className:"space-y-3",children:p.map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[Fe(s.direction),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.parameter}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Elasticità: ",s.elasticity]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:["Impatto: ",(s.impact*100).toFixed(1),"%"]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Confidenza: ",s.confidence,"%"]})]})]},n))})]})]})})]})});He.displayName="PredictiveAnalytics";export{rs as A,Ze as F,He as P};
